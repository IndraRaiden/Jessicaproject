<template>
  <div class="capabilities-section">
    <!-- Testimonial Section -->
    <div class="testimonial">
      <div class="scroll-arrow left-arrow">
        <svg width="24" height="12" viewBox="0 0 24 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0.5 6H23.5" stroke="#E9EFC9" stroke-width="1" />
          <path d="M6 1L1 6L6 11" stroke="#E9EFC9" stroke-width="1" />
        </svg>
      </div>
      <div class="testimonial-content" id="testimonial-1">
        <p class="quote">Jessica has a strong creative approach towards everything she does. This personality trait combined with her profund understanding of her clients business objectives turned her into a natural strategist and therefore the right person to create remarkable concepts for brands that are determined to offer meaningful and unique experiences.<br>She delivers great results with kindness, joy, special artistic skills and sharp intuition.<br>Look out for this one!</p>
        <p class="author">Lais Hauschild Cobra · 1st degree connection</p>
        <p class="projects">Estratégia, Branding, Consultora independente<br>July 17, 2014, Lais Hauschild worked with Jessica but they were at different companies</p>
      </div>
      <div class="testimonial-content" id="testimonial-2" style="display: none;">
        <p class="quote">Jessica has a natural talent for leadership and for exposing ideas and projects to different audiences. With a keen eye to the customer and user, she proposes creative and personalized solutions, always allied to implementation and schedule.</p>
        <p class="author">Cristina Opsvik · 1st degree connection</p>
        <p class="projects">specialist in design and management | design strategist | brand architecture | architecture | service and product design and management | design strategist<br>November 15, 2019, Cristina reported directly to Jessica</p>
      </div>
      <div class="testimonial-content" id="testimonial-3" style="display: none;">
        <p class="quote">Jessica is an excellent professional and one of the best managers I've ever had. She is passionate about her job, focused, organized and knows how to use her strengths to deliver awesome projects and create great spaces for customers. Her creativity is powerful and contagious!</p>
        <p class="author">Fernanda Belizario Santos Felizola · 1st degree connection</p>
        <p class="projects">Head de Arquitetura na Livelo<br>November 25, 2019, Jessica reported directly to Santos</p>
      </div>
      <div class="testimonial-content" id="testimonial-4" style="display: none;">
        <p class="quote">I worked with Jessica in a great project in the field of hospitality that we are developing in São Paulo, Brazil.<br>Regarding her professional skills, her professionalism, her high levels of commitment and her ability to lead and manage the team she is involved with. Jessica is a very organized person as well as a great creative. She has natural entrepreneurship and it's very pleasant to work with her as a team partner.<br>Jessica's problem solver with deep knowledge, successful track record and she's a very professional project manager.<br>I also want to highlight her personal skills as a human being. Always very kind and with a positive approach.<br>I would definitely recommend her for any job!</p>
        <p class="author">Inês Duque Dias · 1st degree connection</p>
        <p class="projects">Head of Communication & New Business - Atelier Nini Andrade Silva | Negotiation | Skilled in Communication | Creative Fields and Copywriter | Passionate by Photography | Storytelling<br>All LinkedIn members/Show Inês Duque Dias recommendation to All LinkedIn members</p>
      </div>
      <div class="testimonial-content" id="testimonial-5" style="display: none;">
        <p class="quote">I've worked with Jessica for almost 3 years at IHG where she was a joy to work with, not only because of her positive attitude, but also because of her exceptional design sensibility and the passion she brings to all aspects of her work. At one point we shared the FF&E/Architectural design responsibilities of at least 5 large projects that were high touch and all different stages of design. We both had to manage clients and attend meetings both internally and externally, while manage drawing sets, purchasing, agenda, vendors, clients, consultants, and design presentations. Jessica was always willing to jump in and help in any way she could. She was able to consistently contribute to design with thoughtful and creative solutions. Through our time working together, I saw that she has many strengths in all aspects of the design process, from concept to completion. She is also very strong while dealing with clients, both in person and via email. She knows the importance of managing expectations, while also presenting herself very professionally for client facing meetings. I cannot recommend her enough as a colleague and design lead for projects.</p>
        <p class="author">Rachel Ratterman · 1st degree connection</p>
        <p class="projects">Principal at Fork Design Studio<br>August 13, 2020, Rachel managed Jessica directly<br>Jessica was a great colleague to work with. She managed design projects in the hospitality realm at IHG where she was a joy to work with, not only because of her positive attitude, but also because of her exceptional design sensibility and the passion she brings to all aspects of her work.</p>
      </div>
      <div class="testimonial-content" id="testimonial-6" style="display: none;">
        <p class="quote">I'd like to recommend Jessica as diligent and thorough professional with a vast experience in the hospitality interior design field. We've been working together in the development of large size projects in Brazil for high end hotel chains and always showed in depth knowledge of the matter bringing to the table innovative ideas and solutions to enhance the quality of the spaces she creates.</p>
        <p class="author">Marcos Bastos · 1st degree connection</p>
        <p class="projects">Partner at VOALB Ltda<br>February 8, 2022, Marcos worked with Jessica on the same team</p>
      </div>
      <div class="scroll-arrow right-arrow">
        <svg width="24" height="12" viewBox="0 0 24 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0.5 6H23.5" stroke="#E9EFC9" stroke-width="1" />
          <path d="M18 1L23 6L18 11" stroke="#E9EFC9" stroke-width="1" />
        </svg>
      </div>
    </div>
    
    <!-- Capabilities Section -->
    <div class="capabilities-container">
      <h2 class="section-title">Our capabilities :</h2>
      
      <!-- Design Section -->
      <div class="capability-group">
        <h3 class="capability-title">DESIGN</h3>
        <p class="capability-description">We create environments that balance form, function and guest experience.</p>
        
        <div class="capability-item">
          <span>Architecture & Interior Design</span>
          <span class="read-more">read more →</span>
        </div>
        
        <div class="capability-item">
          <span>FF&E Design and Specification Package</span>
          <span class="read-more">read more →</span>
        </div>
        
        <div class="capability-item">
          <span>Back-of-House Optimization & Design</span>
          <span class="read-more">read more →</span>
        </div>
      </div>
      
      <!-- Strategy Section -->
      <div class="capability-group">
        <h3 class="capability-title">STRATEGY</h3>
        <p class="capability-description">We define positioning, narratives and concepts that connect brand, place and audience.</p>
        
        <div class="capability-item">
          <span>Brand Strategy & Experience Design</span>
          <span class="read-more">read more →</span>
        </div>
        
        <div class="capability-item">
          <span>Placemaking, Spatial Concepts & Storytelling</span>
          <span class="read-more">read more →</span>
        </div>
        
        <div class="capability-item">
          <span>Service Design</span>
          <span class="read-more">read more →</span>
        </div>
      </div>
      
      <!-- Consulting Section -->
      <div class="capability-group">
        <h3 class="capability-title">CONSULTING</h3>
        <p class="capability-description">We advise stakeholders and validate projects to maximize performance and ensure compliance.</p>
        
        <div class="capability-item">
          <span>Owners Representation & Operator Interface</span>
          <span class="read-more">read more →</span>
        </div>
        
        <div class="capability-item">
          <span>Architecture & Interiors Peer Review</span>
          <span class="read-more">read more →</span>
        </div>
        
        <div class="capability-item">
          <span>Advisory & Design Guidelines</span>
          <span class="read-more">read more →</span>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'Capabilities',
  data() {
    return {
      currentTestimonial: 1,
      totalTestimonials: 6
    }
  },
  mounted() {
    // Add event listeners for arrow navigation
    const leftArrow = document.querySelector('.left-arrow');
    const rightArrow = document.querySelector('.right-arrow');
    
    if (leftArrow) {
      leftArrow.addEventListener('click', this.showPreviousTestimonial);
    }
    
    if (rightArrow) {
      rightArrow.addEventListener('click', this.showNextTestimonial);
    }
    
    // Set initial testimonial as active
    const initialTestimonial = document.getElementById('testimonial-1');
    if (initialTestimonial) {
      initialTestimonial.classList.add('active');
    }
  },
  beforeDestroy() {
    // Remove event listeners
    const leftArrow = document.querySelector('.left-arrow');
    const rightArrow = document.querySelector('.right-arrow');
    
    if (leftArrow) {
      leftArrow.removeEventListener('click', this.showPreviousTestimonial);
    }
    
    if (rightArrow) {
      rightArrow.removeEventListener('click', this.showNextTestimonial);
    }
  },
  methods: {
    showTestimonial(index) {
      // Hide all testimonials
      for (let i = 1; i <= this.totalTestimonials; i++) {
        const testimonial = document.getElementById(`testimonial-${i}`);
        if (testimonial) {
          testimonial.style.display = 'none';
          testimonial.classList.remove('active');
        }
      }
      
      // Show the selected testimonial with animation
      const selectedTestimonial = document.getElementById(`testimonial-${index}`);
      if (selectedTestimonial) {
        selectedTestimonial.style.display = 'flex';
        
        // Trigger reflow to ensure animation works
        void selectedTestimonial.offsetWidth;
        
        // Add active class to trigger animation
        setTimeout(() => {
          selectedTestimonial.classList.add('active');
        }, 10);
      }
      
      this.currentTestimonial = index;
    },
    showNextTestimonial() {
      let nextIndex = this.currentTestimonial + 1;
      if (nextIndex > this.totalTestimonials) {
        nextIndex = 1;
      }
      this.showTestimonial(nextIndex);
    },
    showPreviousTestimonial() {
      let prevIndex = this.currentTestimonial - 1;
      if (prevIndex < 1) {
        prevIndex = this.totalTestimonials;
      }
      this.showTestimonial(prevIndex);
    }
  }
}
</script>

<style scoped>
.capabilities-section {
  width: 100%;
  display: flex;
  flex-direction: column;
  /* Removed background-color to allow underlying image to show through */
  padding-bottom: 4rem;
}

/* Testimonial Section */
.testimonial {
  background-color: #1F1B1A;
  color: #E9EFC9;
  padding: 4rem 2rem;
  text-align: center;
  font-family: 'Inter', sans-serif;
  height: auto;
  min-height: 90vh; /* Balanced height to accommodate review text */
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  position: relative;
}

.testimonial-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  transition: all 0.5s ease;
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  padding: 6rem 6rem;
  width: 100%;
  height: 100%;
  overflow-y: auto; /* Allow scrolling if content exceeds container */
  opacity: 0;
  transform: translateY(20px);
}

.testimonial-content.active {
  opacity: 1;
  transform: translateY(0);
}

.scroll-arrow {
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  padding: 0 1.5rem;
  opacity: 0.7;
  z-index: 10;
  position: relative;
}

.scroll-arrow:hover {
  opacity: 1;
}

.quote {
  font-family: 'Be Vietnam Pro', sans-serif;
  font-size: 1.2rem;
  margin-bottom: 2rem;
  font-weight: 600; /* Semi-bold */
  line-height: 1.6;
  max-width: 900px;
  margin-left: auto;
  margin-right: auto;
  letter-spacing: 220%; /* Spacing 220 */
  text-transform: uppercase; /* CAPSLOCK: SIM */
}

.author {
  font-family: 'Be Vietnam Pro', sans-serif;
  font-size: 1.1rem;
  margin-bottom: 0.8rem;
  font-weight: 600; /* Semi-bold */
  color: #f2eee3;
  letter-spacing: 220%; /* Spacing 220 */
  text-transform: uppercase; /* CAPSLOCK: SIM */
}

@media (max-width: 768px) {
  .author {
    font-size: 1rem;
    margin-bottom: 0.6rem;
  }
}

.projects {
  font-family: 'Be Vietnam Pro', sans-serif;
  font-size: 0.9rem;
  line-height: 1.5;
  max-width: 700px;
  margin: 0 auto;
  font-weight: 600; /* Semi-bold */
  color: #E9EFC9;
  opacity: 0.8;
  letter-spacing: 220%; /* Spacing 220 */
  text-transform: uppercase; /* CAPSLOCK: SIM */
}

@media (max-width: 768px) {
  .projects {
    font-size: 0.9rem;
    line-height: 1.4;
    max-width: 100%;
  }
}

/* Capabilities Container */
.capabilities-container {
  padding: 3rem 2rem;
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
}

.section-title {
  font-family: 'Be Vietnam Pro', sans-serif;
  font-size: 1.5rem;
  margin-bottom: 2.5rem;
  font-weight: 700; /* Bold */
  letter-spacing: 220%; /* Spacing 220 - exact specification */
  text-transform: uppercase; /* CAPSLOCK: SIM */
}

/* Capability Groups */
.capability-group {
  margin-bottom: 3rem;
}

.capability-title {
  font-family: 'Be Vietnam Pro', sans-serif;
  font-size: 1.8rem;
  margin-bottom: 0.5rem;
  font-weight: 700; /* Bold */
  letter-spacing: 220%; /* Spacing 220 - exact specification */
  text-transform: uppercase; /* CAPSLOCK: SIM */
}

.capability-description {
  font-family: 'Be Vietnam Pro', sans-serif;
  font-size: 1.1rem;
  margin-bottom: 1.5rem;
  max-width: 90%;
  font-weight: 600; /* Semi-bold */
  letter-spacing: 220%; /* Spacing 220 - exact specification */
  text-transform: uppercase; /* CAPSLOCK: SIM */
}

/* Capability Items */
.capability-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 0;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  font-family: 'Be Vietnam Pro', sans-serif;
}

.capability-item span {
  font-family: 'Be Vietnam Pro', sans-serif;
  font-size: 1rem;
  font-weight: 600; /* Semi-bold */
  letter-spacing: 220%; /* Spacing 220 - exact specification */
  text-transform: uppercase; /* CAPSLOCK: SIM */
}

.read-more {
  font-family: 'Be Vietnam Pro', sans-serif;
  font-size: 0.9rem;
  color: #333;
  cursor: pointer;
  font-weight: 600; /* Semi-bold */
  letter-spacing: 220%; /* Spacing 220 - exact specification */
  text-transform: uppercase; /* CAPSLOCK: SIM */
}

.read-more:hover {
  text-decoration: underline;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .capabilities-container {
    padding: 2rem 1rem;
  }
  
  .capability-description {
    max-width: 100%;
  }
  
  .capability-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }
  
  .testimonial {
    padding: 4rem 1rem;
    min-height: 80vh;
  }
  
  .scroll-arrow {
    padding: 0 0.5rem;
  }
  
  .scroll-arrow svg {
    width: 20px;
    height: 10px;
  }
  
  .quote {
    font-size: 1.1rem;
    line-height: 1.5;
  }
}
</style>
